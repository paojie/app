/*! Copyright by bdfu */
webpackJsonp([0],{133:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,u.createStore)(l.default,e,f((0,u.applyMiddleware)(c.default)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=n(39),a=n(154),l=r(a),i=n(300),c=r(i),f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.compose},134:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),c=r(i),f=n(147),s=r(f),d=n(148),p=r(d),h=n(150),m=r(h),b=n(152),y=r(b),_=n(151),v=r(_),E=n(149),O=r(E),g=n(12),w=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(g.Router,{history:g.browserHistory},c.default.createElement(g.Route,{path:"/",component:s.default},c.default.createElement(g.IndexRoute,{component:p.default}),c.default.createElement(g.Route,{path:"/login",component:m.default}),c.default.createElement(g.Route,{path:"/reg",component:y.default}),c.default.createElement(g.Route,{path:"/publish",component:v.default}),c.default.createElement(g.Route,{path:"/item/:id",component:O.default})))}}]),t}(c.default.Component);t.default=w},135:function(e,t){},136:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),c=r(i);n(26),n(25);var f=(n(12),n(27)),s=n(140),d=r(s),p=n(139),h=r(p),m=n(138),b=r(m),y=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLogout=n.handleLogout.bind(n),n}return a(t,e),l(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)((0,f.fetchUser)())}},{key:"handleLogout",value:function(){var e=this.props.dispatch;localStorage.removeItem("token"),e((0,f.fetchUser)())}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(d.default,{logOut:this.handleLogout,user:this.props.user}),c.default.createElement(b.default,null,this.props.children),c.default.createElement(h.default,null))}}]),t}(c.default.Component);t.default=y},137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),u=n(12);n(310);var a=function(e){var t=e.user,n=e.logOut;return o.default.createElement("div",{id:"h-bar"},!t.name&&o.default.createElement("div",{className:"bar-container clearfix"},o.default.createElement("div",{className:"left"},o.default.createElement("span",null,"登陆即可发布文章")),o.default.createElement("div",{className:"right"},o.default.createElement("span",null,"欢迎您访问 请 ",o.default.createElement(u.Link,{to:"/login"},"登陆"),"或",o.default.createElement(u.Link,{to:"/reg"},"注册")))),t.name&&o.default.createElement("div",{className:"bar-login-container"},o.default.createElement("span",{style:{}},t.name),"    ",o.default.createElement("span",null,"欢迎您的到来")," ",o.default.createElement("button",{onClick:n},"退出登陆"),o.default.createElement(u.Link,{to:"/publish"},"发表文章")))};t.default=a},138:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"render",value:function(){return i.default.createElement("div",null,this.props.children)}}]),t}(i.default.Component);t.default=c},139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),u=function(){return o.default.createElement("div",{style:{height:"300px",background:"#999",textAlign:"center"}},o.default.createElement("h1",null," moha"))};t.default=u},140:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),u=r(o),a=n(137),l=r(a);n(311);var i=function(e){var t=e.user,n=e.logOut;return u.default.createElement("div",{id:"header"},u.default.createElement(l.default,{user:t,logOut:n}),u.default.createElement("div",null,u.default.createElement("h1",{className:"h-title"},"我的个人网站")))};t.default=i},141:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),c=r(i),f=n(144),s=r(f),d=n(27);n(312);var p=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleShow=n.handleShow.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.selectedAuthor;t((0,d.fetchPosts)(n))}},{key:"handleShow",value:function(e){(0,this.props.dispatch)((0,d.fetchItem)(e))}},{key:"render",value:function(){var e=this.props,t=(e.item,e.selectedAuthor,e.params,e.posts);e.isFetching,e.lastUpdated,e.user;return c.default.createElement("div",null,c.default.createElement(s.default,{posts:t,onShow:this.handleShow}))}}]),t}(c.default.Component);t.default=p},142:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(l);n(313);var c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.posts,n=e.params,r=(e.user,t.filter(function(e){return e.flag===n.id})[0]);return i.default.createElement("div",{className:"detail"},i.default.createElement("h3",null,r.title),i.default.createElement("div",{className:"time"},i.default.createElement("span",{className:"first"},"发布于 "),"       ",i.default.createElement("span",{style:{color:"#aaa"}},r.time.minute),"       ",i.default.createElement("span",{className:"first"},"作者"),"        ",i.default.createElement("span",{style:{color:"#aaa"}},r.author)),i.default.createElement("div",{className:"last"},r.content))}}]),t}(i.default.Component);t.default=c},143:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(l);n(26),n(25),n(314);var c=n(12),f=n(27),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.state={name:"",passwd:""},n}return u(t,e),a(t,[{key:"handleClick",value:function(){var e=this.props.dispatch,t=this.state,n=t.name,r=t.passwd,o=JSON.stringify({name:n,passwd:r});fetch("http://www.fubd.site/api/signin",{method:"POST",headers:{"Content-Type":"application/json","Content-Length":o.length.toString()},body:o}).then(function(e){if(e.ok)return e.json()}).then(function(t){t?(console.log("browser"+t),localStorage.setItem("token",t),console.log("latter"+t),e((0,f.fetchUser)()),c.browserHistory.push("/")):console.log("登陆失败")})}},{key:"render",value:function(){var e=this,t=this.state;t.name,t.passwd;return i.default.createElement("div",{id:"login"},i.default.createElement("h1",null,"登陆"),i.default.createElement("div",{className:"lin-box"},i.default.createElement("label",null,"name"),i.default.createElement("div",null,i.default.createElement("input",{type:"text",onChange:function(t){e.setState({name:t.target.value})}}))),i.default.createElement("div",{className:"lin-box"},i.default.createElement("label",null,"password"),i.default.createElement("div",null,i.default.createElement("input",{type:"text",onChange:function(t){e.setState({passwd:t.target.value})}}))),i.default.createElement("div",{className:"line"}),i.default.createElement("div",null,i.default.createElement("button",{onClick:this.handleClick,className:"lin-btn"},"登陆")))}}]),t}(i.default.Component);t.default=s},144:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(12);n(315);var f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"render",value:function(){var e=this.props.posts;return i.default.createElement("div",null,e.map(function(e,t){return i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"left"},e.author),i.default.createElement("span",null,i.default.createElement(c.Link,{className:"link",to:"/item/"+e.flag},e.title)))}))}}]),t}(i.default.Component);t.default=f},145:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(l);n(26),n(25);var c=n(12),f=n(27);n(316);var s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:"",content:"",isFailed:!1},n.handleClick=n.handleClick.bind(n),n}return u(t,e),a(t,[{key:"handleClick",value:function(){var e=this,t=this.props,n=t.dispatch;t.selectedAuthor;console.log(this.props);var r=this.state.title,o=this.state.content,u=localStorage.getItem("token"),a=JSON.stringify({title:r,content:o,access_token:u});fetch("http://www.fubd.site/api/post",{method:"POST",headers:{"Content-Type":"application/json","Content-Length":a.length.toString()},body:a}).then(function(t){t.ok&&(e.state.title="",e.state.content="",n((0,f.invalidatePosts)(e.props.selectedAuthor)),n((0,f.fetchUser)()),c.browserHistory.push("/"))})}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"pub"},i.default.createElement("h3",null,"发表文章"),i.default.createElement("input",{type:"text",onChange:function(t){return e.setState({title:t.target.value})},className:"title"}),i.default.createElement("h3",null,"内容"),i.default.createElement("div",null,i.default.createElement("textarea",{className:"content",type:"textarea",ref:"content",onChange:function(t){return e.setState({content:t.target.value})}})),i.default.createElement("button",{className:"sub",type:"submit",onClick:this.handleClick},"发表"))}}]),t}(i.default.Component);t.default=s},146:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(l);n(26),n(25);var c=n(12),f=n(27);n(317);var s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={name:"",passwd:"",email:""},n.handleClick=n.handleClick.bind(n),n}return u(t,e),a(t,[{key:"handleClick",value:function(){var e=this.props.dispatch,t=this.state,n=t.name,r=t.passwd,o=t.email,u=JSON.stringify({name:n,passwd:r,email:o});fetch("http://www.fubd.site/api/signup",{method:"POST",headers:{"Content-Type":"application/json","Content-Length":u.length.toString()},body:u}).then(function(e){if(console.log("mmmmmm"),e.ok)return console.log("注册成功"),e.json()}).then(function(t){t?(localStorage.setItem("token",t),e((0,f.logIn)({name:n})),c.browserHistory.push("/")):console.log("注册失败")})}},{key:"render",value:function(){var e=this,t=this.state;t.name,t.passwd;return i.default.createElement("div",{id:"reg"},i.default.createElement("h1",null,"注册"),i.default.createElement("div",{className:"lin-box"},i.default.createElement("label",null,"name")," ",i.default.createElement("div",null,i.default.createElement("input",{type:"text",onChange:function(t){e.setState({name:t.target.value})}}))),i.default.createElement("div",{className:"lin-box"},i.default.createElement("label",null,"password"),i.default.createElement("div",null,i.default.createElement("input",{type:"text",onChange:function(t){e.setState({passwd:t.target.value})}}))),i.default.createElement("div",{className:"lin-box"},i.default.createElement("label",null,"email"),i.default.createElement("div",null,i.default.createElement("input",{type:"text",onChange:function(t){e.setState({email:t.target.value})}}))),i.default.createElement("div",{className:"line"}),i.default.createElement("div",null,i.default.createElement("button",{onClick:this.handleClick,className:"lin-btn"},"注册")))}}]),t}(i.default.Component);t.default=s},147:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return{user:e.user}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=(r(u),n(16)),l=n(136),i=r(l);n(27);t.default=(0,a.connect)(o)(i.default)},148:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.selectedAuthor,n=e.postsByAuthor,r=e.item,o=e.user,u=n[t]||{isFetching:!0,items:[]},a=u.isFetching,l=u.lastUpdated;return{selectedAuthor:t,posts:u.items||[],isFetching:a,lastUpdated:l,item:r,user:o}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=(r(u),n(16)),l=n(141),i=r(l);t.default=(0,a.connect)(o)(i.default)},149:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.postsByAuthor,n=e.selectedAuthor,r=e.user;return{posts:t[n].items||[],user:r,selectedAuthor:n}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=(r(u),n(16)),l=n(142),i=r(l);t.default=(0,a.connect)(o)(i.default)},150:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return{user:e.user}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=(r(u),n(16)),l=n(143),i=r(l);t.default=(0,a.connect)(o)(i.default)},151:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.selectedAuthor;return{user:e.user,selectedAuthor:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=(r(u),n(16)),l=n(145),i=r(l);t.default=(0,a.connect)(o)(i.default)},152:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),u=(r(o),n(16)),a=n(146),l=r(a),i=function(e){return{user:e.user}};t.default=(0,u.connect)(i)(l.default)},153:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(2),u=r(o),a=n(51),l=r(a),i=n(16),c=(n(12),n(133)),f=r(c);n(135);var s=n(134),d=r(s),p=(0,f.default)();l.default.render(u.default.createElement(i.Provider,{store:p},u.default.createElement(d.default,null)),document.getElementById("root"))},154:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case f.SIGN_IN:return t.user;case f.SIGN_OUT:return{};case f.RECEIVE_USER:return t.user;default:return e}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments[1];switch(t.type){case f.SELECT_AUTHOR:return t.author;default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didInvalidate:!1,items:[]},t=arguments[1];switch(t.type){case f.INVALIDATE_POSTS:return Object.assign({},e,{didInvalidate:!0});case f.REQUEST_POSTS:return Object.assign({},e,{isFetching:!0,didInvalidate:!1});case f.RECEIVE_POSTS:return Object.assign({},e,{isFetching:!1,didInvalidate:!1,items:t.posts,lastUpdated:t.receivedAt});default:return e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case f.INVALIDATE_POSTS:case f.RECEIVE_POSTS:case f.REQUEST_POSTS:return Object.assign({},e,r({},t.author,a(e[t.author],t)),{all:a(e[t.author],t)});default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"无",content:"该文章为空"},t=arguments[1];switch(t.type){case f.FETCH_ITEM:return t.item;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(39),f=n(80),s=(0,c.combineReducers)({user:o,selectedAuthor:u,item:i,postsByAuthor:l});t.default=s},27:function(e,t,n){"use strict";function r(){var e=localStorage.getItem("token");return console.log(e),e?function(t){var n=JSON.stringify({access_token:e});return fetch("http://www.fubd.site/api/user",{method:"POST",headers:{"Content-Type":"application/json","Content-Length":n.length.toString()},body:n}).then(function(e){if(e.ok)return e.json();console.log("获取用户失败")}).then(function(e){console.log("json:"+e),t(m(e))})}:(console.log("jb"),function(e){return console.log("this la st"),e(m({}))})}function o(e){return{type:h.SIGN_IN,user:e}}function u(){return{type:h.SIGN_OUT}}function a(e){return{type:h.SELECT_AUTHOR,author:e}}function l(e){return function(t){return fetch("http://www.fubd.site/api/detail/?id="+e).then(function(e){return e.json()}).then(function(e){t(i(e))}).then(function(e){t(i(e))})}}function i(e){return{type:h.FETCH_ITEM,item:e.data}}function c(e){return{type:h.REQUEST_POSTS,author:e}}function f(e,t){return{type:h.RECEIVE_POSTS,author:e,posts:t,receivedAt:Date.now()}}function s(e){return{type:h.INVALIDATE_POSTS,author:e}}function d(e){return function(t){return t(c(e)),fetch("http://www.fubd.site/api/post?author="+e).then(function(e){return e.json()}).then(function(n){return t(f(e,n))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUser=r,t.logIn=o,t.logOut=u,t.selectAuthor=a,t.fetchItem=l,t.invalidatePosts=s,t.fetchPosts=d;var p=n(2),h=(function(e){e&&e.__esModule}(p),n(80));n(26),n(25);var m=function(e){return console.log(e),{type:h.RECEIVE_USER,user:e}}},300:function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},310:function(e,t){},311:function(e,t){},312:function(e,t){},313:function(e,t){},314:function(e,t){},315:function(e,t){},316:function(e,t){},317:function(e,t){},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RECEIVE_USER="RECEIVE_USER",t.SIGN_IN="SIGN_IN",t.SIGN_OUT="SIGN_OUT",t.REQUEST_POSTS="REQUEST_POSTS",t.RECEIVE_POSTS="RECEIVE_POSTS",t.INVALIDATE_POSTS="INVALIDATE_POSTS",t.SELECT_AUTHOR="SELECT_AUTHOR",t.FETCH_ITEM="FETCH_ITEM"}},[153]);